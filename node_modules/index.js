const express = require("express");

const app = express();

// 1. Middleware to parse JSON bodies
app.use(express.json());

app.patch('/profiles/:profileId', (req, res) => {
  
  // 2. Extract data from params
  const profileId = req.params.profileId;

  // Extract data from query
  const source = req.query.source;

  // Extract data from body
  const { theme, language } = req.body;

  // 3. Send final JSON response
  res.json({
    message: `Updating profile ${profileId} from ${source} with language ${language}.`
  });
});

app.listen(3000, () => console.log('Server running on port 3000'));
